<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Roommate Finder</title>
    <link rel="stylesheet" type="text/css" href="/style.css">
</head>
<body>
    <div class="container">
        <h2>üîç Roommate Finder</h2>
        <p class="subtext">Enter the name as it appears on your ID card</p>
        <form id="roommateForm">
            <input type="text" name="name" placeholder="Enter your full name" required>
            <button type="submit">Find Roommates</button>
        </form>
        <div class="result" id="result">
            <!-- Result will be dynamically populated -->
        </div>
        <p style="text-align: center; font-size: 14px; color: gray; margin-top: 10px;">
            Built with ‚ù§Ô∏è by Team A.H.A from CH
        </p>
    </div>

    <script>
        document.getElementById('roommateForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const name = document.querySelector('input[name="name"]').value;

            try {
                const response = await fetch('https://project1-production-0570.up.railway.app/find-roommates', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                    },
                    body: `name=${encodeURIComponent(name)}`
                });

                const result = await response.text();
                document.getElementById('result').textContent = result;
            } catch (error) {
                document.getElementById('result').textContent = '‚ö†Ô∏è An error occurred while finding roommates.';
            }
        });
    </script>
</body>
</html>
